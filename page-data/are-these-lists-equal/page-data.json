{"componentChunkName":"component---src-templates-blog-post-js","path":"/are-these-lists-equal/","result":{"data":{"markdownRemark":{"html":"<p>This is an entry level algorithm to get you warmed up for tough interviews like those you get in Amazon, Google, Toptal and top remote work sites. It’ll get you exposed to a real life problem with time complexity analysis and data structure exploration.</p>\n<h1>The problem</h1>\n<p>Given 2 unsorted lists, determine if both lists contain the exact same items. You can assume that there’s no duplicate item in any of the lists.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a13caf3120eda17ffcdfcf091f73cfae/cd138/ex.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.409638554216876%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkklEQVQoz3VSWU4kMQytO3MGDsNJ+B6NNB/DBxp6S22pTip74jxkN41gJCy5nHIc+z3bAwA0KlD2L2or+Cq9d7GlFFQiFGuxHw7fY1r7jGM78MFnjadfDzgsf6DdGcZPGK+vYlliCKgA5udn/H58RHMOWambzjPyNMlZEnZBCFC7VaROXAu9E3/Fl3MW5b9aG0MR7UTfmLAMe8h4OV9RGqG1W9ZaqwQ1IhBTLVXuZhNx1gHUu/j7PZbbkguIOgZjLKZpRqkVxlr4EPDv7YCUEtQ44XS+yOOYEpZlBcd7H+C8x747vB1PKClhvFxg9IYhpQznnFTiAEbDiXkQnJyV6cYYEUKQQndlv7U7qDXYdUV0DoMJFa+Th4sVP0mMSQook3HSAZX6j7GDsTtOakYuN4S5FKyrFgRMT+sNiYfClMcF23oV+oyWi3AbuCXLqoXNwPSUGgU+J2A0etvkESeWhCkjeY/xeIRWCiFGOOfFPy+rTH6aF+xMmad5V1kJXh2e4Ifvc21KAdUm/eL7+0bQf6vzDkbOCNfCOrCwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"problem example with solution\"\n        title=\"problem example with solution\"\n        src=\"/static/a13caf3120eda17ffcdfcf091f73cfae/be86f/ex.png\"\n        srcset=\"/static/a13caf3120eda17ffcdfcf091f73cfae/e72ac/ex.png 166w,\n/static/a13caf3120eda17ffcdfcf091f73cfae/62452/ex.png 331w,\n/static/a13caf3120eda17ffcdfcf091f73cfae/be86f/ex.png 662w,\n/static/a13caf3120eda17ffcdfcf091f73cfae/0f7d5/ex.png 993w,\n/static/a13caf3120eda17ffcdfcf091f73cfae/cd138/ex.png 1220w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1>1. Brute force makes it work</h1>\n<p>Rule #1 to solve algorithms: Come up with a brute force solution first. <strong>The best solution is simply the worst one after some rework</strong>. How do you normally check if an item exists in two lists? you traverse both lists and try to find the same item in both: <em>“For every element in list 1, loop through list 2 and try to find it”</em>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/52b4386cd054c5b98c04753d94cac7ed/0e904/on2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.734939759036145%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABUElEQVQozy2Ri6rkIBBE8/8fuLBwF+aVycT4NmoSNWeJc4Wi6QK7q6qH8zy53reetLPRWutcra3ztdaO1k6UUh3OOoyxHdY6vPcYaxm0saSceX9m8rYhFonShm3bmD4fYkwsUnG7P/sCrU3/vG6Z/dippeJTZHIabx1DjJEcV4yYKfuGUgvOB+J2II3jKJWYN6xzXaVSGmU0o5HknCnHwU1+0KtHK81Q7ULziiNotH5jzMwoJpT2COVJMUHdfyP4DryslaPQSkF6yz8xcdbGIiVD1JIzBubpxt9ZIqzjMX+wISOkwYuJJEZCTD3ba9gaAq1WZHA89cK+732ZlIrh8RzJ+4F1gXVNPSP9m+HrNXa7xgfuj2c/kPeBn/eTP+Odn+nV+xACKSXsdZSctz79Iq667XvHpSasK6WUjutgtTWccwglmYTAatNtimX5CjGG/6BrGXSs7wN3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"quadratic solution\"\n        title=\"quadratic solution\"\n        src=\"/static/52b4386cd054c5b98c04753d94cac7ed/be86f/on2.png\"\n        srcset=\"/static/52b4386cd054c5b98c04753d94cac7ed/e72ac/on2.png 166w,\n/static/52b4386cd054c5b98c04753d94cac7ed/62452/on2.png 331w,\n/static/52b4386cd054c5b98c04753d94cac7ed/be86f/on2.png 662w,\n/static/52b4386cd054c5b98c04753d94cac7ed/0f7d5/on2.png 993w,\n/static/52b4386cd054c5b98c04753d94cac7ed/eb2ef/on2.png 1324w,\n/static/52b4386cd054c5b98c04753d94cac7ed/0e904/on2.png 1384w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The figure above shows the comparisons between the lists. Compare <code class=\"language-text\">1</code> to all the items in list 2; then compare <code class=\"language-text\">6</code>, and so on. But, what’s that <code class=\"language-text\">n2</code> weird curve at the right? Let’s talk about time complexity.</p>\n<h3>BigO: n^2 for the nested loop</h3>\n<p>Make sure to <a href=\"/4-tricks-to-instantly-boost-up-your-algorithms-game-bigo-made-super-easy/\">read this quick recap on BigO complexity</a> if you feel lost about this topic. For every item in list 1 you need to loop over all the items in list 2. That is, take item <code class=\"language-text\">1</code> and visit all 5 items in list 2. Rinse and repeat for the remaining items <code class=\"language-text\">6</code>, <code class=\"language-text\">2</code>, <code class=\"language-text\">9</code>, and <code class=\"language-text\">3</code>. That results in 25 comparisons (5+5+5+5+5). A list with 10 items would result in 100 operations. That’s why we say out algorithm resolves in quadratic time O(n^2).</p>\n<h1>2. Sorting makes it better</h1>\n<p>Brute force proved to be effective but not efficient (too many comparisons). Let’s get clever. What if we sorted both lists and then compare items by their indices? After all, if both lists are sorted, the first items should be identical (<code class=\"language-text\">i=0</code>), same for the second items (<code class=\"language-text\">i=1</code>), and so on.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/450d9bc8236c54446fb341c54cf9bad1/0f882/onlogn.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.204819277108435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABfUlEQVQoz62Sy4oUQRBF6/9/SVFmdKELkVkIjto97Ty6ra7Kyvc7s450CS4HBzxwCWIT3LgRw3maUFpzYV3Xf9JzDKlUamu8hN47pRRSzuScqbX+1WDnJ3KwtFZI0VBLIkdLyZHgJK0WghX0VnF6pPeKcx6tNSlEgvc47wkhorVh8LdXmKfvqPmAPn1GnveMdx8w4oHT7j3RCcb9NSkYfu3eUZLGWo+QCz+mE8JqavnjTlvDcLp5ix8P1LUTLg5rJmZHbRWf7CVYilGs26pty9AYwyIl9+KMcpaaC0c5MyvJMN68IU73hFZQbiGXjAmKXNLW0ztxHrdhJfmtamOwxtJqRVjD4zLhUsA7z+C/XaOPe5bpJ/r4CXk+MB0+osUjj7dXeDtz9+UV0Ukevr4mugXrAk/nkd145H4akVptWV5yHcwyUXOitUyOmlYSKUh6K5RktmOUaFh7p2bL2tt2hEkIlFIYpVkWySzE5nxwPtJ6538xCLEQY3zRYz+n33oaBt/h1FaJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"solution with sorting\"\n        title=\"solution with sorting\"\n        src=\"/static/450d9bc8236c54446fb341c54cf9bad1/be86f/onlogn.png\"\n        srcset=\"/static/450d9bc8236c54446fb341c54cf9bad1/e72ac/onlogn.png 166w,\n/static/450d9bc8236c54446fb341c54cf9bad1/62452/onlogn.png 331w,\n/static/450d9bc8236c54446fb341c54cf9bad1/be86f/onlogn.png 662w,\n/static/450d9bc8236c54446fb341c54cf9bad1/0f7d5/onlogn.png 993w,\n/static/450d9bc8236c54446fb341c54cf9bad1/eb2ef/onlogn.png 1324w,\n/static/450d9bc8236c54446fb341c54cf9bad1/0f882/onlogn.png 1584w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>As you can tell from the illustration, we first sort the lists and then we make only one comparison per item. We stop when we find a mismatch on 2 items with the same index.</p>\n<h3>BigO: nlogn for the sorting algorithm</h3>\n<p>As <a href=\"/4-tricks-to-instantly-boost-up-your-algorithms-game-bigo-made-super-easy/\">previously explained</a>, sorting arrays bring benefits but it also comes with a cost. The sorting cost is normally understood as O(nlogn). This complexity is better than our brute force solution, though, so we made our algorithm a bit more efficient.</p>\n<h1>3. Counting makes it perfect</h1>\n<p>O(nlogn) is not “as cool” as we’d like our algorithm to be. Can we do better without sorting, and without a lot of rework? Let’s think about this.</p>\n<p>If two lists contain the same elements, then I can find the same amount of <code class=\"language-text\">1</code>s in list 1 than in list 2. If I tell you <em>“I have two <code class=\"language-text\">1</code>s and three <code class=\"language-text\">2</code>s in my list”</em> you can then count the occurrences of the numbers in your lists and verify we both have the same frequencies. Can you spot the pattern now?</p>\n<p>We’re changing the problem from “are these list equal?” to “verify both lists have the same frequencies for all items”. <strong>We now have a ‘counting’ problem</strong>: count the frequency of all items in list 1 and compare it with the frequency of all items in list 2. This is what <a href=\"/hashmaps-like-you-have-never-seen-them/\">hashmaps</a> are useful for.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f9c40721e8cf86027e620281d0e6e836/d7ceb/on.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.93975903614458%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACKElEQVQ4y41U2Y6cMBCc//+9vETKsavNcoMxvk8q6mYgs1GUWUvGxqarq9xlbgBgQ8HLoPE2WXx9l0il0jL2HffxPnmYP649ths9TAwM4nNCzAWlVoScOMilyB/aFJBrucD+C7g6wyA6eJRakGkePQdt3vKH0hmkkj8A/qvfSqlYVwlrLYZhhFIaq9zQDyNijOj7ATEmNE2HeV7wrN1qrXDeI+cCYyxCCPAhQGuDUgonoFEbA+8DB1EMrXGvld/PzpIpM4F675kVjXLbkFKClMdIKpTWqPuOZRGciN4psXMOxhisUuJGutuu5w1iYa2DsRbTvDBb2qMEBEL7xKLreyZAySlZiBE5Z05+FMVGlLpDuQQfM89Xc1RX6Mj2cbFw3/eKrush1AbtLHLKyHfQeVkOwJjr/Wx2nGYgUGpkJ1JBUmmNGBLrHCN2OnfvMG4rJi3/ABJQSIXZkQ9pfgLiwRJnQYihcgaNXNDIGcpZXl/X9QC0MeNtdvjWa7wLj++duiT/3SjwV9viy+sPvHUtn61YBION03QAks5xnCCEwDCOCCFewUKsXKCuH9g2bPZtg6YqK8Vu2JRiy9F4IyHCSvxsXtH2PQPkUnAmaroOTdNimmau6FNj521DVBJSy8sWzG6v2ILCpGYoc5j72bXjq1djJG3sQ5Jwsti5qgXaaljn+Po9+9NcPwdqpP8AzB+C6AbQ+ZCJPwV4btL1ISaP0q51aznRZwB/A1/vMLfsAYiNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hashmaps and counting\"\n        title=\"hashmaps and counting\"\n        src=\"/static/f9c40721e8cf86027e620281d0e6e836/be86f/on.png\"\n        srcset=\"/static/f9c40721e8cf86027e620281d0e6e836/e72ac/on.png 166w,\n/static/f9c40721e8cf86027e620281d0e6e836/62452/on.png 331w,\n/static/f9c40721e8cf86027e620281d0e6e836/be86f/on.png 662w,\n/static/f9c40721e8cf86027e620281d0e6e836/0f7d5/on.png 993w,\n/static/f9c40721e8cf86027e620281d0e6e836/eb2ef/on.png 1324w,\n/static/f9c40721e8cf86027e620281d0e6e836/d7ceb/on.png 1446w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>In the image above, we loop over every item and register in our “frequency” hashmap (<em>i. count items</em>). We build a hashmap for every list. For example, we visit item <code class=\"language-text\">2</code> in list 1 and we add a new record in our hashmap: &#x3C;2, 1>. This means “item <code class=\"language-text\">2</code> appears <code class=\"language-text\">1</code> times in list 1”.</p>\n<p>Finally, we loop over the keys in the hashmap #1 and compare the values with the same key in hashmap #2 (<em>ii. compare counts</em>). If the key is not found in hashmap #2, then the lists are not equal.</p>\n<p>It seems like this is a lot more work, so, is this really more performant?</p>\n<h3>BigO: n for just one pass at the lists</h3>\n<p>Let’s count the operations:</p>\n<ol>\n<li>Loop over list 1 only once. That is 5 items.</li>\n<li>Loop over list 2 only once. That is 5 items.</li>\n<li>Loop over the keys in the hashmap. That is 5 items (worst case).</li>\n</ol>\n<p>This results in 15 operations. If we had 10 items, this would be 30 operations (10+10+10). Hopefully, you can see a linear correlation here: for lists of length <code class=\"language-text\">n</code>, we do <code class=\"language-text\">3n</code> operations. In computer science, we often simplify <code class=\"language-text\">O(3n)</code> to <code class=\"language-text\">O(n)</code>.</p>\n<p>We finally arrived at an algorithm with linear execution time. When you understand that <code class=\"language-text\">O(n^2)</code> is worst than <code class=\"language-text\">O(nlong)</code> which is worst than <code class=\"language-text\">O(n)</code>, then you realize we have arrived at our most performant solution.</p>\n<p><em>Note: This algorithm will also work for lists with duplicate items. Can you understand why? Explain us in the comments!</em></p>\n<div class=\"divider\"></div>\n<h1>Show me the code</h1>\n<p>Let’s see how our most performant solution looks like in code. I’m doing it in JavaScript just for familiarity.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">areListsEqual</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list1<span class=\"token punctuation\">,</span> list2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> list2<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// count items from list 1</span>\n  <span class=\"token keyword\">const</span> map1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> item <span class=\"token keyword\">of</span> list1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    map1<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>map1<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// count items from list 2</span>\n  <span class=\"token keyword\">const</span> map2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> item <span class=\"token keyword\">of</span> list2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    map2<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>map2<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// compare the counts, return false if counts dont match</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> item <span class=\"token keyword\">in</span> map1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>map1<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> map2<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">areListsEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Here’s a <a href=\"https://stackblitz.com/edit/typescript-jtgwpu\" target=\"_blank\" rel=\"nofollow\">blitz</a> with the working code. Can you adjust it to work with 3 lists? Send your blitz in the comments!</p>\n<div class=\"divider\"></div>\n<h1>Key takeaways</h1>\n<p>If you can only remember one thing from this post, let it be one of these:</p>\n<ol>\n<li>Find brute force solutions first.</li>\n<li>Sorting is nice, but it comes at a cost.</li>\n<li>Hashmaps will land you the job.</li>\n</ol>","frontmatter":{"title":"Are these lists equal?","description":"Given 2 unsorted lists, determine if both lists contain the exact same items.","meta":null,"date":"June 18, 2020"}}},"pageContext":{"slug":"/are-these-lists-equal/","previous":{"fields":{"slug":"/quarantine/quarantine-day-92/"},"frontmatter":{"title":"Quarantine — Day 92"}},"next":{"fields":{"slug":"/quarantine/quarantine-day-93/"},"frontmatter":{"title":"Quarantine — Day 93"}}}},"staticQueryHashes":["3649515864","63159454"]}