{"componentChunkName":"component---src-templates-blog-post-js","path":"/gh-pages-with-godaddy-domain/","result":{"data":{"markdownRemark":{"html":"<p>I recently moved my blog from DigitalOcean to GH Pages. Here’s what I did to point my GoDaddy domain to GitHub.</p>\n<h2>1. Set up domain in repo settings</h2>\n<p>In your repository, go to Settings > Pages > Custom domain. Write your domain <strong>without</strong> <code class=\"language-text\">www</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/594cd2311a0fb5acd001e7661e972c9f/d7ceb/gh-domain.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.33734939759036%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABK0lEQVQoz2WR3XKDIBCFvW0bQQUVEcEoGP/Spk1m2vd/sdNx03TS9OKbs7uH2YFDpEyHfVhhuwn94QhRNnhmEruk+AvP8cJz0n8ecZ1Hthtx/PjC+v6JbliR5jUSqQkuKnCpwURF/ebd+zeY0GDSgGUaUe0GTOsF43qmm2obYNoB+7DA9hP6sCKEBa2f0XQjeZX1qF2A3rA9ZO2RNTNS1SFKco0mjDD+gNw4xLLELi1QNR71fkTnAk5+RlE5PMWCnv0IxcAlacSkQqxLxFqBG43UGjChEKclsUtLPP/U92x53Z+51ZHxbxjmM9p+JliiwDJF+ZFmFXh2m219SfqYJRf6ujDNDfx8Qj++Em1Y4PoZzi/XelO/YPs864+ohwuUm1DoFrJyv4jS0sJvH7K0/YVEn1wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"github-screenshot\"\n        title=\"github-screenshot\"\n        src=\"/static/594cd2311a0fb5acd001e7661e972c9f/be86f/gh-domain.png\"\n        srcset=\"/static/594cd2311a0fb5acd001e7661e972c9f/e72ac/gh-domain.png 166w,\n/static/594cd2311a0fb5acd001e7661e972c9f/62452/gh-domain.png 331w,\n/static/594cd2311a0fb5acd001e7661e972c9f/be86f/gh-domain.png 662w,\n/static/594cd2311a0fb5acd001e7661e972c9f/0f7d5/gh-domain.png 993w,\n/static/594cd2311a0fb5acd001e7661e972c9f/eb2ef/gh-domain.png 1324w,\n/static/594cd2311a0fb5acd001e7661e972c9f/d7ceb/gh-domain.png 1446w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>2. Pull changes</h2>\n<p>Step 1 will add a <code class=\"language-text\">CNAME</code> file to your deployment branch —e.g. <code class=\"language-text\">main</code>. Remember to pull those changes in your local: <code class=\"language-text\">git checkout main &amp;&amp; git pull --allow-unrelated-histories</code>.</p>\n<h3>2.1 (Optional) Additional step for Gatsby blogs</h3>\n<p>If you publish with Gatsby, make sure to add a <code class=\"language-text\">CNAME</code> file to <code class=\"language-text\">/static</code>; it’ll be copied verbatim to <code class=\"language-text\">/public</code> in your deployment branch.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cat &lt;&lt;EOF > ./static/CNAME\nmydomain.com\nEOF</code></pre></div>\n<h2>3. Configure DNS in GoDaddy</h2>\n<h3>3.1 Add an <code class=\"language-text\">A</code> record</h3>\n<p>Point your root domain to the GitHub Pages IP. Make sure to look at the updated IPs <a href=\"https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site\" target=\"_blank\" rel=\"nofollow\">here</a>. I took <code class=\"language-text\">185.199.108.153</code>.</p>\n<h3>3.2 Add a <code class=\"language-text\">CNAME</code> record</h3>\n<p>Point <code class=\"language-text\">www</code> to your original GitHub pages domain. Do this by adding a <code class=\"language-text\">CNAME</code> record from <code class=\"language-text\">www</code> to <code class=\"language-text\">&lt;username>.github.io</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a762445b54250434b47e4de4a978789c/2e367/godaddy-dns.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.55421686746988%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA6ElEQVQoz2VSia6DMAzj/79xA3EjsYHairMFT45eOh6LFNVRLrttAgDee6RpiqIosK4rhmHA8/FAXddYloUlOM9TnJbnObIswziOMaeWMAghSNIYi917GcLYOod936XhOA5xYmstjDGynHZc8gnZXTd80deU3ZUlDw7wPgghzSXcQhbzPMcBZDdN048cxV3XiTdNg6qq8H6//ktWSYq5MVziuzOvEqVW4j+GmuRy7idW06a73xnHeg6kNBaVZSkvxzt1zqFt258Gtb7v5QfQ2UfZrGdvlMx73LYtSlIszG8PorUcoFh/wwft+HKvWwU1pQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"godaddy-dns\"\n        title=\"godaddy-dns\"\n        src=\"/static/a762445b54250434b47e4de4a978789c/be86f/godaddy-dns.png\"\n        srcset=\"/static/a762445b54250434b47e4de4a978789c/e72ac/godaddy-dns.png 166w,\n/static/a762445b54250434b47e4de4a978789c/62452/godaddy-dns.png 331w,\n/static/a762445b54250434b47e4de4a978789c/be86f/godaddy-dns.png 662w,\n/static/a762445b54250434b47e4de4a978789c/0f7d5/godaddy-dns.png 993w,\n/static/a762445b54250434b47e4de4a978789c/2e367/godaddy-dns.png 1066w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>4. Add verified domain</h2>\n<p>Add your custom domain to your GitHub account —read <strong>acount</strong>, not repo. In GitHub, click on your profile > Settings > Pages. Click “Add a domain”.</p>\n<div class=\"divider\"> </div>\n<h2>Bonus: Automate with Git Hooks</h2>\n<p>Add a pre-push git hook to deploy your site before pushing changes. Assuming you have a <code class=\"language-text\">deploy</code> npm script and your source branch is <code class=\"language-text\">master</code>, follow this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ rm .git/hooks/pre-push.sample\n$ cat &lt;&lt;EOF > .git/hooks/pre-push\n#!/bin/sh\nBRANCH=\"$(git rev-parse --abbrev-ref HEAD)\"\nif [[ \"$BRANCH\" != \"master\" ]]; then\n  exit 1;\nfi\necho \"deploying to gh pages...\"\nnpm run deploy\nEOF\n$ chmod +x .git/hooks/pre-push</code></pre></div>","frontmatter":{"title":"Setup GitHub Pages with GoDaddy domain","description":"Quick custom domain setup for Gatsby blog","meta":null,"date":"January 07, 2023"}}},"pageContext":{"slug":"/gh-pages-with-godaddy-domain/","previous":{"fields":{"slug":"/why-i-left-toptal-for-amazon/"},"frontmatter":{"title":"Why I left Toptal for Amazon"}},"next":null}},"staticQueryHashes":["3649515864","63159454"]}