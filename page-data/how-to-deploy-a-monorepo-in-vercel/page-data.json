{"componentChunkName":"component---src-templates-blog-post-js","path":"/how-to-deploy-a-monorepo-in-vercel/","result":{"data":{"markdownRemark":{"html":"<h1>The problem</h1>\n<p>We need to deploy a monorepo in Vercel which holds a frontend app (React) and a backend API (NestJS). We want the following perks too:</p>\n<ul>\n<li>It needs to be done using the free plan.</li>\n<li>We want to serve the API when the URL matches <code class=\"language-text\">/api</code>; otherwise, serve the React app and its static assets.</li>\n<li>Both projects should be deployed on <code class=\"language-text\">git push</code>.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/27452bffd17a814dcb2ea9e0a65f96cc/e2310/challenge.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.21686746987952%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1UlEQVQoz32S3Y6bQAyF8/6P0ate9gV6UVWK2lyslDRUoEDID4QQGIbfAYYZTmXTSNvdVS1ZNoz8zTngFf4T8zxzraoKaZpCSslJz03ToG1brs8zihUNvc0nzFrLvRCCq+d5iKIIjuPAc124rovT6cRneZ4vwNdq3kKfkWUZqyqKglOQ0rJEFMcMIpXZ30tXxhhM0/TOJr3vlWKV1BMovt34XXG/Q2YZarJPlwiBvq4xa43VdrvFbrdjG5vNBkEQLPYOAb7/eMEvx4W1BuM44pYkEMkNc9vCPB7QcYwpSaAvF0xCQEu5WK7rmkE0RKH1iPB8xc8XBzvHhdYaSilcr1ekUQQzTTBKQZ3P6Hyfk5xYUkiAMAyx3+9xv9/5YBhHruMwsF0K6suq4n7KUszjwKqm7AGrOsy9ginyBUiw9XoN3/d5oO/7dytE6suyBGZAphXaooZuOqiqhZINqqxCXbQLkP5gHMdsjYK+WSFLeIcjjqfLopaAUmIYDRplkZcTfgcdjtce+0MH2Vh0vV328KNlPgQhPn3+gq/f1ui6joFSFnA9H00zwpgZ4aXDIWxxiRXPDYNZFH60gwSJbwnyXPyzl8YCaT6iaiYIqTn7wUD1BrLS+AMygktGt8eyfQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"challenge\"\n        title=\"challenge\"\n        src=\"/static/27452bffd17a814dcb2ea9e0a65f96cc/be86f/challenge.png\"\n        srcset=\"/static/27452bffd17a814dcb2ea9e0a65f96cc/e72ac/challenge.png 166w,\n/static/27452bffd17a814dcb2ea9e0a65f96cc/62452/challenge.png 331w,\n/static/27452bffd17a814dcb2ea9e0a65f96cc/be86f/challenge.png 662w,\n/static/27452bffd17a814dcb2ea9e0a65f96cc/e2310/challenge.png 968w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1>The constrain</h1>\n<p>We can configure Vercel to automatically deploy our project on <code class=\"language-text\">git push</code>. We’d need then to configure two projects in Vercel: one for the frontend and another one for the backend.  However, <strong>we can’t link 2 projects to the same repo in Vercel</strong>. This means we won’t do continuous deployment using this tool.</p>\n<h1>The solution</h1>\n<p>Based on the constrain mentioned above, we’ll need to <strong>disable automatic Github deployments</strong> for Vercel. <a href=\"https://vercel.com/docs/configuration#git-integrations/github-enabled\" target=\"_blank\" rel=\"nofollow\">You can do this</a> by setting <code class=\"language-text\">\"github\": { \"enabled\": false }</code> in your <code class=\"language-text\">vercel.json</code> file (more on this later.).</p>\n<h2>Deploy from local</h2>\n<p>We can build the monorepo locally and execute the <code class=\"language-text\">vercel</code> deploy command. We’ll then need to tell Vercel something like this:</p>\n<blockquote>\n<p><em>There are 2 builds in this project. <code class=\"language-text\">dist/api/index.js</code> should be served as a Node app under the <code class=\"language-text\">/api</code> endpoint. <code class=\"language-text\">dist/frontend/index.html</code> should be served as a static folder under any other endpoint.</em></p>\n</blockquote>\n<p>The way we can communicate this to Vercel is by writing a <code class=\"language-text\">vercel.json</code> file. Ours looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber 0\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scope\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_own_vercel_scope\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"github\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"builds\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dist/apps/api/main.js\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"use\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@now/node\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dist/apps/react-app/*\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"use\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@now/static\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"routes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/api/(.*)\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"dest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dist/apps/api/main.js\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"handle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"filesystem\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/assets/(.*)\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"dest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dist/apps/react-app/assets/$1\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/(.*).(js|css|ico)\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"dest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dist/apps/react-app/$1.$2\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/(.*)\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"dest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dist/apps/react-app/index.html\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Please note that the order in <code class=\"language-text\">\"routes\"</code> is important as the Vercel’s web server will execute the first match of the URL to the <code class=\"language-text\">\"src\"</code> regex.</p>\n<p><strong>We can now build our monorepo locally and then deploy both frontend and API running <code class=\"language-text\">vercel</code></strong>. The process of creating the project in Vercel is out of the scope of this blog post and can be learned using the <a href=\"https://vercel.com/docs/v2/platform/projects\" target=\"_blank\" rel=\"nofollow\">official docs</a>.</p>\n<h2>Automatic deploy on git push</h2>\n<p>If we can deploy our monorepo from local then we can probably deploy it from any machine. In particular, we can use Github servers to do so via <a href=\"https://github.com/features/actions\" target=\"_blank\" rel=\"nofollow\">Github Actions</a>. <strong>We’ll then configure a Github Action to detect git updates (master, new branch, etc) and deploy on Vercel</strong>. We’ll use <code class=\"language-text\">amondnet/vercel-action</code> for this purpose (see <a href=\"https://github.com/amondnet/vercel-action\" target=\"_blank\" rel=\"nofollow\">docs</a>).</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37a4829eb6ff3359abe8e7f6861725b0/75a80/github-deploy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.32530120481928%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACM0lEQVQ4y52UTU/bQBCG/cMq9caVc/8P53Iq7bHi0h56bC85IKBBQKtKBaKodRISiC0nsY3X3/ba66fyUiAiaSWw9Ere1ezjd3ZmbPD3aZrmkaBRFVQFKElTlfeiyvWZyjnDf/cS8eEV/tsXpD92MZIkoSgK1j0q9ckjjzT0QZVQtyrIs4QsFuQ3NsnwEPH7gMTcp3JNjOPjYy4uLqgVOIsCe5bjBSUikqAyxpMrTk5PSbOcUkqupxaT3gnn5+d86RzQOfzOp897dL/91PHGeDxmNBpRSkVRKvKi1rAbIaHOEUHAYGASxzF5njOZTLg8+0ocBswWHgvXxZktsK0p5AGGbdsMBgOkLFdTzkP6/b7OwLIsvVeUkl97u8ynQzzzhCQKuNx/j5hfQRlhKKVotVqYFiio61qrqiodE0URwpvTKEUYJ/qsdTXCsa1b4HKVl6HaYRasuG6BSZrp949HY4bXM5x+F+d6iCpTjGVXK8DUe2ihv3tSSoQQ+k5dL0KIkDAUxJHQXWGsa5d7eJnqoAd5qMy/VeoReS5l5FKELmXsU+XxeuAy9H79aAB0+rHEvakpKohSaCvxf4cr09MsxSh8oRgMJ+zsvGF7+zWdTuffDtd95A7Y3l87YVIqut0jNjc32djYYGtr63nA+Xyu+9NzXb1ui3RXsGcBHceh1+vhODO9buG+72vnTwLqVlKKIAiYTqe4rqv70jRNPZKe5z3dYas25Vatq/ZPlWWZBi8WC/4AtLPKTN3WjuwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"github deploy\"\n        title=\"github deploy\"\n        src=\"/static/37a4829eb6ff3359abe8e7f6861725b0/be86f/github-deploy.png\"\n        srcset=\"/static/37a4829eb6ff3359abe8e7f6861725b0/e72ac/github-deploy.png 166w,\n/static/37a4829eb6ff3359abe8e7f6861725b0/62452/github-deploy.png 331w,\n/static/37a4829eb6ff3359abe8e7f6861725b0/be86f/github-deploy.png 662w,\n/static/37a4829eb6ff3359abe8e7f6861725b0/0f7d5/github-deploy.png 993w,\n/static/37a4829eb6ff3359abe8e7f6861725b0/75a80/github-deploy.png 1134w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>To achieve this, we need to create the file <code class=\"language-text\">.github/workflows/deploy-vercel.yml</code> from the project root, with the following content:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber 0\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token comment\"># Monorepo deploy vercel</span>\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy Vercel\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>master<span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>master<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Checkout and install</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> checkout\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> NPM Cache\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/cache@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> ~/.npm\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> runner.os <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>node<span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> hashFiles('<span class=\"token important\">**/package-lock.json')</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">restore-keys</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            ${{ runner.os }}-node-</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install deps\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token comment\"># Build and deploy</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy staging\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> amondnet/vercel<span class=\"token punctuation\">-</span>action@v19\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> vercel<span class=\"token punctuation\">-</span>action<span class=\"token punctuation\">-</span>staging\n        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> github.event_name == 'pull_request'\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">github-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.VERCEL_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-org-id</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ORG_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-project-id</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.PROJECT_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy production\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> amondnet/vercel<span class=\"token punctuation\">-</span>action@v19\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> vercel<span class=\"token punctuation\">-</span>action<span class=\"token punctuation\">-</span>production\n        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> github.event_name == 'push'\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">github-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.VERCEL_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-org-id</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ORG_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-project-id</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.PROJECT_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">vercel-args</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'--prod'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You can understand the build and deploy workflow by reading the <code class=\"language-text\">steps</code>: <em>checkout, NPM cache, Install deps, Build, Deploy staging, Deploy production</em>. The <em>deploy</em> steps are of particular interest. Let’s analyze them.</p>\n<p>As inferred from the YAML file, <em>Deploy staging</em> is executed when there’s a new pull request, and <em>Deploy production</em> runs whenever there’s an update on <code class=\"language-text\">master</code> (see <code class=\"language-text\">if: github.event_name == 'push'</code>). Notice that the difference between both deployments is the flag <code class=\"language-text\">vercel-args: '--prod'</code>. This will tell Vercel to use the production domain. It will also make the production environment variables available at runtime.</p>\n<h2>Setting up the Github secrets</h2>\n<p>Notice the use of <code class=\"language-text\">secrets</code> in the YAML file. <a href=\"https://docs.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets#:~:text=On%20GitHub%2C%20navigate%20to%20the,Click%20Add%20a%20new%20secret.\" target=\"_blank\" rel=\"nofollow\">Please refer the official docs</a> to learn how to add secrets to a Github repo. Here’s a brief guide on how to get each one of the secrets:</p>\n<ul>\n<li><code class=\"language-text\">GITHUB_TOKEN</code>: This is automatically set by Github when running the action. No further action needed.</li>\n<li><code class=\"language-text\">ORG_ID</code> and <code class=\"language-text\">PROJECT_ID</code>: When you run <code class=\"language-text\">vercel</code> locally for the first time, you’ll be asked to login to your Vercel account and link your repo to a project. Once you finish this configuration, a new <code class=\"language-text\">.vercel/project.json</code> file will be created in your project. Use the values for <code class=\"language-text\">\"orgId\"</code> and <code class=\"language-text\">\"projectId\"</code> for the Github secrets.</li>\n<li><code class=\"language-text\">VERCEL_TOKEN</code>: Create a new token from your <a href=\"https://vercel.com/account/tokens\" target=\"_blank\" rel=\"nofollow\">profile settings</a>. Copy that token and paste it in the corresponding Github secret.</li>\n</ul>\n<h2>Real-life project</h2>\n<p>I deploy <a href=\"https://logoquiz.dev\" target=\"_blank\" rel=\"nofollow\">logoquiz.dev</a> with this same technique. The code is <a href=\"https://github.com/logo-quiz/logo-quiz\" target=\"_blank\" rel=\"nofollow\">open source</a> if you’re curious to see all this in action.</p>","frontmatter":{"title":"How to deploy a monorepo in Vercel","description":"Deploy a React app and a NestJS API with one command","meta":null,"date":"July 23, 2020"}}},"pageContext":{"slug":"/how-to-deploy-a-monorepo-in-vercel/","previous":{"fields":{"slug":"/github-lessons-learned/"},"frontmatter":{"title":"Lessons learned doing open source"}},"next":{"fields":{"slug":"/embrace-the-comfort-zone/"},"frontmatter":{"title":"Embrace the comfort zone"}}}},"staticQueryHashes":["3649515864","63159454"]}